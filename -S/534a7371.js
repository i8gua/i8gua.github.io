webpackJsonp([8],{WlLj:function(e,t,o){"use strict";e.exports=function(t,o,r){var n,i,c,a;return o&&(o+=""),r||(r=$.Deferred()),t&&o?(c="章节设置",i="设定"):(c="新建章节",i="创建"),n=$.box.confirm("<div class=Form><style>._Box h1 .I-trash{font-size:24px;float:right;width: 24px;height:57px;text-align:center;line-height:57px;cursor:pointer;}._Box h1 .I-trash:hover{color:#f40;}</style><h1>"+c+'<i class="I I-trash"></i></h1><div class=P><input placeholder="章节名称" value="'+(t?$.escape(t):"")+'" name="name" autocomplete=off></div><div class=P><input autocomplete=off name="dir" value="'+(o?$.escape(o):"")+'" placeholder="网址前缀，如 tech 、2018 等；限英文、数字、减号"></div><div class="P SELECT"><label for=dirSelect>默认顺序</label><select id=dirSelect><option value="1">新文章在前</option><option value="2">新文章在后</option></select></div></div>',{okBtn:"创建",ok:function(){return!1}}),a=n.find(".I-trash"),o?a.click(function(){var i;return n.close(),i="post/rm/"+o,PP.get1(i,function(n){var c,a;return c=function(){return setTimeout(function(){e.exports(t,o,r)})},a="章节『"+$.escape(t)+"』("+$.escape(o)+")",n?$.box.alert("<h1><p>"+a+" 尚有 "+n+" 篇文章。</p><p>删除所有文章后，才能删除章节。</p></h1>",{ok:c}):$.box.confirm("<h1>确认删除 "+a+" ?</h1>",{ok:function(){return PP.postJSON1(i,function(){return r.resolve("","")})},cancel:c})})}):a.remove(),n.find("form").save("post/dir",{old:o}).then(function(e){var t=e.dir,o=e.name;return n.close(),$.box.alert("章节『"+$.escape(o)+"』("+t+") "+i+"成功！"),r.resolve(t,o)}),r}}});